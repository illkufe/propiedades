{% extends 'index.html' %}
{% block section %}

{% include 'partials/breadcrumbs-bar.html' %}


<div class="wrapper wrapper-content">
	<div class="row">
		<div class="col-lg-12">
			<div class="ibox float-e-margins">
				<div class="ibox-title">
					<h5>Lista de Monedas</h5>
					<div class="ibox-tools">
						<a href="/monedas/new">
							<button type="button" class="btn btn-primary btn-xs"><i class="fa fa-plus"></i> Nueva Moneda</button>
						</a>
					</div>
				</div>
				<div class="ibox-content">
					<form role="form">
						<h4>Filtar por :</h4>
						<br>
						<div class="row">
							<div class="form-group col-sm-3">
								<input type="text" class="form-control column_filter col1_filter" data-column="1" onkeyup="search_column_table(this, '#tabla-moneda')" placeholder="nombre">
							</div>

							<div class="form-group col-sm-3">
								<input type="text" class="form-control column_filter col2_filter" data-column="2" onkeyup="search_column_table(this, '#tabla-moneda')" placeholder="valor">
							</div>
						</div>
					</form>
					<br>

					<div class="table-responsive">
						<table id="tabla-moneda" class="table table-striped table-bordered table-hover dataTables-example" >
							<thead></thead>
							<tbody>
								{% for item in object_list %}
								<tr>
									<td>{{ item.id }}</td>
									<td>{{ item.nombre }}</td>
									<td>{{ item.valor }}</td>
									<td>{{ item.descripcion }}</td>
									<td class="text-center">
										<form action="activo-new.html">
											<a onclick="modal_delete_moneda({{item.id}}, this)"><button type="button" class="btn btn-danger btn-xs" data-toggle="modal" data-target="#modal-delete"><i class="fa fa-trash"></i> Eliminar </button></a>
											<a href='{% url "moneda_update" item.id %}'><button type="button" class="btn btn-success btn-xs"><i class="fa fa-edit"></i> Editar</button></a>
										</form>
									</td>
								</tr>
								{% endfor %}
							</tbody>
						</table>
					</div>
				</div>
			</div>
		</div>
	</div>
</div>

{% endblock section %}

{% block scripts %}
<script>

$(document).ready(function(){
	var table;

	table = $('#tabla-moneda').DataTable({
		'language': language,
		'pageLength': 10,
		'searching': true,
		'order': [[0, 'desc']],
		'paginate': true,
		'bLengthChange': true,
		'pagingType': 'simple_numbers',
		'columns': [
		{		
			'data': 'id',
			'title': 'ID',
			'visible': false,
		},
		{
			'width': '15%',
			'data': 'nombre',
			'title': 'Nombre',
		},
		{
			'width': '15%',
			'data': 'valor',
			'title': 'Valor',
		},
		{
			'width': '40%',
			'data': 'descripcion',
			'title': 'Descripci√≥n',
		},
		{
			'width': '20%',
			'data': 'options',
			'orderable': false,
			'title': 'Opciones'
		}],
		dom: '<"top"fl><"html5buttons"B>rt <"bottom"ip><"clear">',
		buttons: [
		{
			extend: 'copy'
		},
		{
			extend: 'csv'
		},
		{
			extend: 'excel', 
			title: 'ExampleFile'
		},
		{
			extend: 'pdf', title: 'ExampleFile',
		},
		{
			extend: 'print',
			customize: function (win){
				$(win.document.body).addClass('white-bg');
				$(win.document.body).css('font-size', '10px');
				$(win.document.body).find('table').addClass('compact').css('font-size', 'inherit');
			}
		}]
	});
});

</script>

{% endblock scripts %}


